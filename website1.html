<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDI Group Project</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <div class="right-menu">
        <h3 style="text-align:center;">MENU</h3>
        <br>
        <ul>
            <li><a href="#">EDI GROUP PROJECT</a></li>
            <li><a href="#tabela">TABLE</a></li>
            <li><a href="#">PERSONAL STUDENT DATA</a></li>
            <li><a href="#">LINGUISTIC DATA</a></li>
            <li><a href="#">RACE AND ETHNICITY</a></li>
        </ul>
    </div>

    <section>
        <center>
            <h1>EDI Group Project</h1>
            <p>Łukasz Wątor, Igor Gierat, Fabian Żywioł, Brunon Socha<br>Studenci I roku kierunku Informatyka Stosowana<br>I stopnia, niestacjonarne</p>
        </center>
    </section>

    <section>
    <h1>STUDENT DATA</h1>
    <p>
        The following page provides an insight into students of the x University. Different types of data can be found, such as their names, surnames, ability to speak English,
        height, gender, country of origin, native language and race.
    </p>
    </section>

    <h1>TABLE</h1>

    <div class="container">
        <div id="data-container"></div>
    </div>

    <section>
        <center>
            <h1>PERSONAL STUDENT DATA</h1>
        <h2>Students' gender</h2>
        <canvas id="genderPieChart" width="100" height="100"></canvas>
        <script>
            // Function to fetch data from JSON file
            async function fetchData() {
              try {
                const response = await fetch('https://my.api.mockaroo.com/country.json?key=cf6b9050');
                const data = await response.json();
                return data;
              } catch (error) {
                console.error('Error fetching data:', error);
              }
            }
        
            // Function to create the pie chart
            async function createPieChart() {
              const data = await fetchData();
        
              if (data) {
                // Extract gender data from JSON
                const genderData = data.map(entry => entry.gender);
        
                // Count occurrences of each gender
                const genderCounts = {};
                genderData.forEach(gender => {
                  genderCounts[gender] = (genderCounts[gender] || 0) + 1;
                });
        
                // Extract labels and values from gender counts
                const labels = Object.keys(genderCounts);
                const values = Object.values(genderCounts);
        
                // Create the chart
                const ctx = document.getElementById('genderPieChart').getContext('2d');
                const myChart = new Chart(ctx, {
                  type: 'pie',
                  data: {
                    labels: labels,
                    datasets: [{
                      data: values,
                      backgroundColor: getRandomColors(labels.length),
                      borderWidth: 1,
                    }],
                  },
                });
              }
            }
        
            // Helper function to generate random colors
            function getRandomColors(count) {
              const colors = [];
              for (let i = 0; i < count; i++) {
                const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.7)`;
                colors.push(randomColor);
              }
              return colors;
            }
        
            // Call the function to create the pie chart
            createPieChart();
          </script>
          <h2>Students' height</h2>
          <canvas id="heightBarChart" width="100" height="100"></canvas>
<script>
    // Function to fetch data from JSON file
    async function fetchData() {
        try {
            const response = await fetch('https://my.api.mockaroo.com/country.json?key=cf6b9050');
            const data = await response.json();
            return data;
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }

    // Function to create the bar chart
    async function createBarChart() {
        const data = await fetchData();

        if (data) {
            // Extract height data from JSON
            const heightData = data.map(entry => entry.height);

            // Count occurrences of each height
            const heightCounts = {};
            heightData.forEach(height => {
                heightCounts[height] = (heightCounts[height] || 0) + 1;
            });

            // Extract labels and values from height counts
            const labels = Object.keys(heightCounts);
            const values = Object.values(heightCounts);

            // Create the chart
            const ctx = document.getElementById('heightBarChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'bar',  // Change type to 'bar' for a bar chart
                data: {
                    labels: labels,
                    datasets: [{
                        data: values,
                        backgroundColor: getRandomColors(labels.length),
                        borderWidth: 1,
                    }],
                },
            });
        }
    }

    // Helper function to generate random colors
    function getRandomColors(count) {
        const colors = [];
        for (let i = 0; i < count; i++) {
            const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.7)`;
            colors.push(randomColor);
        }
        return colors;
    }

    // Call the function to create the bar chart
    createBarChart();
</script>

          </center>
    </section>

    <section>
        <center>
            <h1>LINGUISTIC DATA</h1>
            <h2>Students' ability to speak English</h2>
            <canvas id="speaks_engPieChart" width="100" height="100"></canvas>
            <script>
                // Function to fetch data from JSON file
                async function fetchData() {
                  try {
                    const response = await fetch('https://my.api.mockaroo.com/country.json?key=cf6b9050');
                    const data = await response.json();
                    return data;
                  } catch (error) {
                    console.error('Error fetching data:', error);
                  }
                }
            
                // Function to create the pie chart
                async function createPieChart() {
                  const data = await fetchData();
            
                  if (data) {
                    // Extract speaks_eng data from JSON
                    const speaks_engData = data.map(entry => entry.speaks_eng);
            
                    // Count occurrences of each race
                    const speaks_engCounts = {};
                    speaks_engData.forEach(speaks_eng => {
                      speaks_engCounts[speaks_eng] = (speaks_engCounts[speaks_eng] || 0) + 1;
                    });
            
                    // Extract labels and values from speaks_eng counts
                    const labels = Object.keys(speaks_engCounts);
                    const values = Object.values(speaks_engCounts);
            
                    // Create the chart
                    const ctx = document.getElementById('speaks_engPieChart').getContext('2d');
                    const myChart = new Chart(ctx, {
                      type: 'pie',
                      data: {
                        labels: labels,
                        datasets: [{
                          data: values,
                          backgroundColor: getRandomColors(labels.length),
                          borderWidth: 1,
                        }],
                      },
                    });
                  }
                }
            
                // Helper function to generate random colors
                function getRandomColors(count) {
                  const colors = [];
                  for (let i = 0; i < count; i++) {
                    const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.7)`;
                    colors.push(randomColor);
                  }
                  return colors;
                }
            
                // Call the function to create the pie chart
                createPieChart();
              </script>
        </center>
    </section>

    <section>   
        <center>
        <h1>RACE AND ETHNICITY</h1>
        <h2>Students' race</h2>
        <canvas id="racePieChart" width="100" height="100"></canvas>
        <script>
            // Function to fetch data from JSON file
            async function fetchData() {
              try {
                const response = await fetch('https://my.api.mockaroo.com/country.json?key=cf6b9050');
                const data = await response.json();
                return data;
              } catch (error) {
                console.error('Error fetching data:', error);
              }
            }
        
            // Function to create the pie chart
            async function createPieChart() {
              const data = await fetchData();
        
              if (data) {
                // Extract race data from JSON
                const raceData = data.map(entry => entry.race);
        
                // Count occurrences of each race
                const raceCounts = {};
                raceData.forEach(race => {
                  raceCounts[race] = (raceCounts[race] || 0) + 1;
                });
        
                // Extract labels and values from race counts
                const labels = Object.keys(raceCounts);
                const values = Object.values(raceCounts);
        
                // Create the chart
                const ctx = document.getElementById('racePieChart').getContext('2d');
                const myChart = new Chart(ctx, {
                  type: 'pie',
                  data: {
                    labels: labels,
                    datasets: [{
                      data: values,
                      backgroundColor: getRandomColors(labels.length),
                      borderWidth: 1,
                    }],
                  },
                });
              }
            }
        
            // Helper function to generate random colors
            function getRandomColors(count) {
              const colors = [];
              for (let i = 0; i < count; i++) {
                const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.7)`;
                colors.push(randomColor);
              }
              return colors;
            }
        
            // Call the function to create the pie chart
            createPieChart();
          </script>
          <h2>Students' country of origin</h2>
          <canvas id="countryPieChart" width="500" height="500"></canvas>
          <script>
            // Function to fetch data from JSON file
            async function fetchData() {
              try {
                const response = await fetch('https://my.api.mockaroo.com/country.json?key=cf6b9050');
                const data = await response.json();
                return data;
              } catch (error) {
                console.error('Error fetching data:', error);
              }
            }
        
            // Function to create the pie chart
            async function createPieChart() {
              const data = await fetchData();
        
              if (data) {
                // Extract race data from JSON
                const countryData = data.map(entry => entry.country);
        
                // Count occurrences of each country
                const countryCounts = {};
                countryData.forEach(country => {
                  countryCounts[country] = (countryCounts[country] || 0) + 1;
                });
        
                // Extract labels and values from race counts
                const labels = Object.keys(countryCounts);
                const values = Object.values(countryCounts);
        
                // Create the chart
                const ctx = document.getElementById('countryPieChart').getContext('2d');
                const myChart = new Chart(ctx, {
                  type: 'pie',
                  data: {
                    labels: labels,
                    datasets: [{
                      data: values,
                      backgroundColor: getRandomColors(labels.length),
                      borderWidth: 1,
                    }],
                  },
                });
              }
            }
        
            // Helper function to generate random colors
            function getRandomColors(count) {
              const colors = [];
              for (let i = 0; i < count; i++) {
                const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.7)`;
                colors.push(randomColor);
              }
              return colors;
            }
        
            // Call the function to create the pie chart
            createPieChart();
          </script>

        </center>
    </section>


    <script src= 
    "https://code.jquery.com/jquery-3.3.1.min.js"> 
      </script> 
      <script src= 
    "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"> 
      </script> 
      <script src= 
    "https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"> 
      </script> 
    <script src="./tableformatter.js"></script>
    <script src="./animations.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>
</html>